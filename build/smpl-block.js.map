{"version":3,"file":"smpl-block.js","mappings":"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","sources":["webpack://simple-poll/./Admin/js/block/utilities.js","webpack://simple-poll/external window \"React\"","webpack://simple-poll/external window [\"wp\",\"element\"]","webpack://simple-poll/external window [\"wp\",\"i18n\"]","webpack://simple-poll/webpack/bootstrap","webpack://simple-poll/webpack/runtime/compat get default export","webpack://simple-poll/webpack/runtime/define property getters","webpack://simple-poll/webpack/runtime/hasOwnProperty shorthand","webpack://simple-poll/webpack/runtime/make namespace object","webpack://simple-poll/./Admin/js/smpl-block.js"],"sourcesContent":["/**\r\n * Post data method.\r\n * @param {url} url api url\r\n * @param {method} method request type\r\n * @returns\r\n */\r\nexport const postData = async (url = '', data = {}) => {\r\n\t// Default options are marked with *\r\n\tconst response = await fetch(url, {\r\n\t\theaders: {\r\n\t\t\t// 'Content-Type': 'application/json',\r\n\t\t\t// 'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t},\r\n\t\tcredentials: 'same-origin',\r\n\t\tmethod: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n\t\tbody: data, // body data type must match \"Content-Type\" header\r\n\t});\r\n\tconst responseData = await response.json(); // parses JSON response into native JavaScript objects\r\n\r\n\treturn responseData;\r\n};\r\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { __ } from '@wordpress/i18n';\r\nimport react, { useCallback, useEffect, useState } from 'react';\r\nimport { postData } from './block/utilities';\r\nwp.blocks.registerBlockType('smpl/shortcode', {\r\n\ttitle: __('Smple poll'),\r\n\tdescription: __('This is simple poll discription.'),\r\n\ticon: 'businessperson',\r\n\tcategory: 'design',\r\n\tattributes: {\r\n\t\tcompanyName: { type: 'string' },\r\n\t\tcompanyPhone: { type: 'string' },\r\n\t\tcompanyContact: { type: 'string' },\r\n\t\tcompanyAddress: { type: 'string' },\r\n\t\tcompanyCity: { type: 'string' },\r\n\t},\r\n\r\n\tedit: simplePoll,\r\n\r\n\tsave: function (props) {\r\n\t\treturn null;\r\n\t},\r\n});\r\n\r\nfunction simplePoll(props) {\r\n\tconst [poll, setPollData] = useState({\r\n\t\tid: '',\r\n\t\tquestion: 'Sample Question?',\r\n\t\tanswers: [{ smpl_answers: 'yes' }, { smpl_answers: 'no' }],\r\n\t\ttotalvotes: '0',\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tlet form = new FormData();\r\n\t\tform.append('nonce', smpl_block.nonce);\r\n\t\tform.append('action', 'get_last_poll');\r\n\r\n\t\tpostData(smpl_block.ajax_url, form).then((res) => {\r\n\t\t\tif (res.data) {\r\n\t\t\t\tconsole.log(smpl_block);\r\n\t\t\t\tsetPollData(res.data[0]);\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst submitVote = (e, answer_id, question_id) => {\r\n\t\tlet form = new FormData();\r\n\t\tform.append('nonce', smpl_block.nonce);\r\n\t\tform.append('smpl_qid', question_id);\r\n\t\tform.append('smpl_aid', answer_id);\r\n\t\tform.append('action', 'give_vote');\r\n\t\tpostData(smpl_block.ajax_url, form).then((res) => {\r\n\t\t\tconsole.log(res.data);\r\n\t\t\t// if (res.data) {\r\n\t\t\t// \tconsole.log(smpl_block);\r\n\t\t\t// \tsetPollData(res.data[0]);\r\n\t\t\t// }\r\n\t\t});\r\n\t};\r\n\r\n\tfunction updateCompanyPhone(e) {\r\n\t\tprops.setAttributes({ companyPhone: e.target.value });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='makeUpYourBlockTypeName'>\r\n\t\t\t<h3>{poll.question}</h3>\r\n\t\t\t<div className='poll_answers'>\r\n\t\t\t\t{poll.answers.length &&\r\n\t\t\t\t\tpoll.answers.map((answer) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\tname='smpl_answers'\r\n\t\t\t\t\t\t\t\t\tvalue={answer.smpl_answers}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsubmitVote(\r\n\t\t\t\t\t\t\t\t\t\t\te,\r\n\t\t\t\t\t\t\t\t\t\t\tanswer.smpl_aid,\r\n\t\t\t\t\t\t\t\t\t\t\tanswer.smpl_qid,\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor={answer.smpl_answers}>\r\n\t\t\t\t\t\t\t\t\t{__(answer.smpl_answers)}\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* <input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={props.attributes.companyName}\r\n\t\t\t\tonChange={updateCompanyName}\r\n\t\t\t\tplaceholder='company name'\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={props.attributes.companyPhone}\r\n\t\t\t\tonChange={updateCompanyPhone}\r\n\t\t\t\tplaceholder='company phone'\r\n\t\t\t/> */}\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"names":["postData","url","data","response","fetch","headers","credentials","method","body","responseData","json","__","react","useCallback","useEffect","useState","wp","blocks","registerBlockType","title","description","icon","category","attributes","companyName","type","companyPhone","companyContact","companyAddress","companyCity","edit","simplePoll","save","props","poll","setPollData","id","question","answers","smpl_answers","totalvotes","form","FormData","append","smpl_block","nonce","ajax_url","then","res","console","log","submitVote","e","answer_id","question_id","updateCompanyPhone","setAttributes","target","value","length","map","answer","smpl_aid","smpl_qid"],"sourceRoot":""}